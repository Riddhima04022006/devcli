<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Devcli: Initialization &amp; Configuration</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">var page_layout=1;</script>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="side-nav" class="ui-resizable side-nav-resizable"><!-- do not remove this div, it is closed by doxygen! -->
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Devcli
   </div>
   <div id="projectbrief">Low-Level Design Documentation for DevCLI Tool</div>
  </td>
 </tr>
   <tr><td colspan="2">        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect" class="search-icon" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()"><span class="search-icon-dropdown"></span></span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><div id="MSearchCloseImg" class="close-icon"></div></a>
          </span>
        </div>
</td></tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
</div><!-- top -->
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('group__init.html','',''); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search',true);
});
</script>
<div id="main-nav"></div>
<div id="container"><div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">Initialization &amp; Configuration </div></div>
</div><!--header-->
<div class="contents">

<p>Functions responsible for setting up environment and configuration.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga7ba31217528c710c30c8f59b106337da" id="r_ga7ba31217528c710c30c8f59b106337da"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga7ba31217528c710c30c8f59b106337da">detectShell</a> ()</td></tr>
<tr class="memdesc:ga7ba31217528c710c30c8f59b106337da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detects the current shell environment and initializes the global <span class="tt">shell</span> variable.  <br /></td></tr>
<tr class="memitem:ga56a97bef12bcc6c8e9ffd8a388b0c9e5" id="r_ga56a97bef12bcc6c8e9ffd8a388b0c9e5"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga56a97bef12bcc6c8e9ffd8a388b0c9e5">resolveJSONPath</a> ()</td></tr>
<tr class="memdesc:ga56a97bef12bcc6c8e9ffd8a388b0c9e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resolves the file path of the <span class="tt">tasks.json</span> configuration file.  <br /></td></tr>
<tr class="memitem:gaa57d5560140fb5a77a0cc312245782b2" id="r_gaa57d5560140fb5a77a0cc312245782b2"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa57d5560140fb5a77a0cc312245782b2">readFileToBuffer</a> (char *path)</td></tr>
<tr class="memdesc:gaa57d5560140fb5a77a0cc312245782b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the entire contents of a file into a dynamically allocated buffer.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<p>Functions responsible for setting up environment and configuration. </p>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="ga7ba31217528c710c30c8f59b106337da" name="ga7ba31217528c710c30c8f59b106337da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7ba31217528c710c30c8f59b106337da">&#9670;&#160;</a></span>detectShell()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void detectShell </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Detects the current shell environment and initializes the global <span class="tt">shell</span> variable. </p>
<p>This function determines the shell being used by checking platform-specific indicators. On Windows, it checks for the presence of "PSModulePath" in environment variables to differentiate between PowerShell and CMD. On non-Windows systems, it defaults to "Linux".</p>
<p>The detected shell name is stored in the global variable <span class="tt">shell</span>, which is later used for selecting shell-specific commands.</p>
<dl class="section note"><dt>Note</dt><dd>This function is called once during program startup and does not require manual invocation by the user. It ensures that <span class="tt">shell</span> is initialized for the program's entire runtime.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Altering this function or removing its call from <span class="tt"><a class="el" href="main_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Entry point for the DevCLI tool.">main()</a></span> may cause the <span class="tt">shell</span> variable to remain uninitialized, leading to undefined behavior.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="main_8c.html#a0ef51f737fa5267b269e1c1ae5133ff0" title="Holds the name of the currently detected shell environment.">shell</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="main_8c_source.html#l00162">162</a> of file <a class="el" href="main_8c_source.html">main.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  162</span>                  {</div>
<div class="line"><span class="lineno">  163</span><span class="preprocessor">    #ifdef _WIN32</span></div>
<div class="line"><span class="lineno">  164</span>        <span class="keywordtype">char</span> *PS= getenv(<span class="stringliteral">&quot;PSModulePath&quot;</span>);</div>
<div class="line"><span class="lineno">  165</span>        <span class="keywordflow">if</span>(PS &amp;&amp; strstr(PS,<span class="stringliteral">&quot;WindowsPowerShell&quot;</span>)){</div>
<div class="line"><span class="lineno">  166</span>            <a class="code hl_variable" href="main_8c.html#a0ef51f737fa5267b269e1c1ae5133ff0">shell</a>=<span class="stringliteral">&quot;Powershell&quot;</span>;</div>
<div class="line"><span class="lineno">  167</span>        }</div>
<div class="line"><span class="lineno">  168</span>        <span class="keywordflow">else</span>{</div>
<div class="line"><span class="lineno">  169</span>            <a class="code hl_variable" href="main_8c.html#a0ef51f737fa5267b269e1c1ae5133ff0">shell</a>=<span class="stringliteral">&quot;CMD&quot;</span>;</div>
<div class="line"><span class="lineno">  170</span>        }</div>
<div class="line"><span class="lineno">  171</span><span class="preprocessor">    #else</span></div>
<div class="line"><span class="lineno">  172</span>        <a class="code hl_variable" href="main_8c.html#a0ef51f737fa5267b269e1c1ae5133ff0">shell</a>=<span class="stringliteral">&quot;Linux&quot;</span>;</div>
<div class="line"><span class="lineno">  173</span><span class="preprocessor">    #endif</span></div>
<div class="line"><span class="lineno">  174</span>    <a class="code hl_define" href="main_8c.html#ad285b8d43b6e90320e33e7438e3e171b">LOG</a>(<span class="stringliteral">&quot;Shell Detected: %s&quot;</span>, <a class="code hl_variable" href="main_8c.html#a0ef51f737fa5267b269e1c1ae5133ff0">shell</a>);</div>
<div class="line"><span class="lineno">  175</span>}</div>
<div class="ttc" id="amain_8c_html_a0ef51f737fa5267b269e1c1ae5133ff0"><div class="ttname"><a href="main_8c.html#a0ef51f737fa5267b269e1c1ae5133ff0">shell</a></div><div class="ttdeci">const char * shell</div><div class="ttdoc">Holds the name of the currently detected shell environment.</div><div class="ttdef"><b>Definition</b> <a href="main_8c_source.html#l00133">main.c:133</a></div></div>
<div class="ttc" id="amain_8c_html_ad285b8d43b6e90320e33e7438e3e171b"><div class="ttname"><a href="main_8c.html#ad285b8d43b6e90320e33e7438e3e171b">LOG</a></div><div class="ttdeci">#define LOG(msg,...)</div><div class="ttdoc">Prints a formatted log message with file name and line number.</div><div class="ttdef"><b>Definition</b> <a href="main_8c_source.html#l00106">main.c:106</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__init_ga7ba31217528c710c30c8f59b106337da_icgraph.png" border="0" usemap="#agroup__init_ga7ba31217528c710c30c8f59b106337da_icgraph" loading="lazy" alt=""/></div>
<map name="agroup__init_ga7ba31217528c710c30c8f59b106337da_icgraph" id="agroup__init_ga7ba31217528c710c30c8f59b106337da_icgraph">
<area shape="rect" title="Detects the current shell environment and initializes the global shell variable." alt="" coords="103,5,189,32"/>
<area shape="rect" href="main_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Entry point for the DevCLI tool." alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="gaa57d5560140fb5a77a0cc312245782b2" name="gaa57d5560140fb5a77a0cc312245782b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa57d5560140fb5a77a0cc312245782b2">&#9670;&#160;</a></span>readFileToBuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * readFileToBuffer </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>path</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the entire contents of a file into a dynamically allocated buffer. </p>
<p>This function opens the specified file in binary mode, determines its size, allocates a buffer of appropriate size (+1 for null terminator), and reads the file contents into it. The buffer is null-terminated before returning.</p>
<p>The returned buffer is primarily used as input for <span class="tt">cJSON_Parse()</span> to create the root JSON object, which is later freed after all commands are executed.</p>
<p><b>Memory Management:</b> The function allocates memory for the buffer using <span class="tt">malloc()</span>. In the current implementation, the memory is always freed later in <span class="tt"><a class="el" href="main_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Entry point for the DevCLI tool.">main()</a></span> after use. There is no risk of leaks unless this behavior is changed by altering the code.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>Path to the file to be read (typically <span class="tt">tasks.json</span>).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>char* Pointer to the heap-allocated buffer containing the file contents, or <span class="tt">NULL</span> if an error occurs (e.g., file not found, allocation failure).</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The buffer returned by this function must remain valid until parsing is complete. It is freed automatically in the current implementation after all commands execute.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>If this function or the freeing logic in <span class="tt"><a class="el" href="main_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Entry point for the DevCLI tool.">main()</a></span> is modified incorrectly, memory leaks or invalid memory access may occur.</dd></dl>
<p>Example usage: </p><div class="fragment"><div class="line"><span class="keywordtype">char</span> *tasks=<a class="code hl_function" href="#gaa57d5560140fb5a77a0cc312245782b2">readFileToBuffer</a>(<span class="stringliteral">&quot;tasks.json&quot;</span>);</div>
<div class="line"><span class="keywordflow">if</span> (tasks) {</div>
<div class="line">    cJSON *root = cJSON_Parse(tasks);</div>
<div class="line">    <span class="comment">// Process root...</span></div>
<div class="line">    free(tasks); <span class="comment">// Freed later in the current implementation</span></div>
<div class="line">    cJSON_Delete(root);</div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">    <a class="code hl_define" href="main_8c.html#ad9c73bc78b8b2564e47a037b5a6ca226">LOG_ERROR</a>(<span class="stringliteral">&quot;Failed to load tasks.json&quot;</span>);</div>
<div class="line">}</div>
<div class="ttc" id="agroup__init_html_gaa57d5560140fb5a77a0cc312245782b2"><div class="ttname"><a href="#gaa57d5560140fb5a77a0cc312245782b2">readFileToBuffer</a></div><div class="ttdeci">char * readFileToBuffer(char *path)</div><div class="ttdoc">Reads the entire contents of a file into a dynamically allocated buffer.</div><div class="ttdef"><b>Definition</b> <a href="main_8c_source.html#l00317">main.c:317</a></div></div>
<div class="ttc" id="amain_8c_html_ad9c73bc78b8b2564e47a037b5a6ca226"><div class="ttname"><a href="main_8c.html#ad9c73bc78b8b2564e47a037b5a6ca226">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR(msg,...)</div><div class="ttdoc">Prints a formatted error message with file name and line number to stderr.</div><div class="ttdef"><b>Definition</b> <a href="main_8c_source.html#l00123">main.c:123</a></div></div>
</div><!-- fragment --> 
<p class="definition">Definition at line <a class="el" href="main_8c_source.html#l00317">317</a> of file <a class="el" href="main_8c_source.html">main.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  317</span>                                  {</div>
<div class="line"><span class="lineno">  318</span>    <a class="code hl_define" href="main_8c.html#ad285b8d43b6e90320e33e7438e3e171b">LOG</a>(<span class="stringliteral">&quot;Reading file to buffer...&quot;</span>);</div>
<div class="line"><span class="lineno">  319</span>    FILE* fptr;</div>
<div class="line"><span class="lineno">  320</span>    fptr=fopen(path,<span class="stringliteral">&quot;rb&quot;</span>);</div>
<div class="line"><span class="lineno">  321</span>    <span class="keywordflow">if</span>(fptr==NULL){</div>
<div class="line"><span class="lineno">  322</span>        <a class="code hl_define" href="main_8c.html#ad9c73bc78b8b2564e47a037b5a6ca226">LOG_ERROR</a>(<span class="stringliteral">&quot;File not opened: %s&quot;</span>,strerror(errno));</div>
<div class="line"><span class="lineno">  323</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  324</span>    }</div>
<div class="line"><span class="lineno">  325</span>    fseek(fptr,0,SEEK_END);</div>
<div class="line"><span class="lineno">  326</span>    <span class="keywordtype">size_t</span> size=ftell(fptr);</div>
<div class="line"><span class="lineno">  327</span>    rewind(fptr);</div>
<div class="line"><span class="lineno">  328</span>    <span class="keywordflow">if</span>(size==0){</div>
<div class="line"><span class="lineno">  329</span>        <a class="code hl_define" href="main_8c.html#ad9c73bc78b8b2564e47a037b5a6ca226">LOG_ERROR</a>(<span class="stringliteral">&quot;The size of file could not be determined.&quot;</span>);</div>
<div class="line"><span class="lineno">  330</span>        fclose(fptr);</div>
<div class="line"><span class="lineno">  331</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  332</span>    }</div>
<div class="line"><span class="lineno">  333</span>    <span class="keywordtype">char</span> *tasks=(<span class="keywordtype">char</span>*)malloc((size+1)*<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>));</div>
<div class="line"><span class="lineno">  334</span>    <span class="keywordflow">if</span>(tasks==NULL){</div>
<div class="line"><span class="lineno">  335</span>        <a class="code hl_define" href="main_8c.html#ad9c73bc78b8b2564e47a037b5a6ca226">LOG_ERROR</a>(<span class="stringliteral">&quot;Dynamic Memory not assigned to buffer: %s&quot;</span>,strerror(errno));</div>
<div class="line"><span class="lineno">  336</span>        fclose(fptr);</div>
<div class="line"><span class="lineno">  337</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  338</span>    }</div>
<div class="line"><span class="lineno">  339</span>    <span class="keywordtype">size_t</span> read=fread(tasks,<span class="keyword">sizeof</span>(<span class="keywordtype">char</span>),size,fptr);</div>
<div class="line"><span class="lineno">  340</span>    <span class="keywordflow">if</span>(read!=size){</div>
<div class="line"><span class="lineno">  341</span>        <a class="code hl_define" href="main_8c.html#ad9c73bc78b8b2564e47a037b5a6ca226">LOG_ERROR</a>(<span class="stringliteral">&quot;The file was read incorrectly to buffer.&quot;</span>);</div>
<div class="line"><span class="lineno">  342</span>        <a class="code hl_define" href="main_8c.html#ad285b8d43b6e90320e33e7438e3e171b">LOG</a>(<span class="stringliteral">&quot;Size:%zu,Read:%zu&quot;</span>,size,read);</div>
<div class="line"><span class="lineno">  343</span>        fclose(fptr);</div>
<div class="line"><span class="lineno">  344</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  345</span>    }</div>
<div class="line"><span class="lineno">  346</span>    <a class="code hl_define" href="main_8c.html#ad285b8d43b6e90320e33e7438e3e171b">LOG</a>(<span class="stringliteral">&quot;Data transferred to buffer successfully.&quot;</span>);</div>
<div class="line"><span class="lineno">  347</span>    fclose(fptr);</div>
<div class="line"><span class="lineno">  348</span>    tasks[size]=<span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  349</span>    <span class="keywordflow">return</span>(tasks);</div>
<div class="line"><span class="lineno">  350</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__init_gaa57d5560140fb5a77a0cc312245782b2_icgraph.png" border="0" usemap="#agroup__init_gaa57d5560140fb5a77a0cc312245782b2_icgraph" loading="lazy" alt=""/></div>
<map name="agroup__init_gaa57d5560140fb5a77a0cc312245782b2_icgraph" id="agroup__init_gaa57d5560140fb5a77a0cc312245782b2_icgraph">
<area shape="rect" title="Reads the entire contents of a file into a dynamically allocated buffer." alt="" coords="103,5,218,32"/>
<area shape="rect" href="main_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Entry point for the DevCLI tool." alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="ga56a97bef12bcc6c8e9ffd8a388b0c9e5" name="ga56a97bef12bcc6c8e9ffd8a388b0c9e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga56a97bef12bcc6c8e9ffd8a388b0c9e5">&#9670;&#160;</a></span>resolveJSONPath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * resolveJSONPath </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resolves the file path of the <span class="tt">tasks.json</span> configuration file. </p>
<p>This function determines the location of <span class="tt">tasks.json</span> using the following priority order:</p><ol type="1">
<li>Cached path from <span class="tt">.devcli_config</span> file (if valid).</li>
<li>Parent directory path (<span class="tt">../tasks.json</span>).</li>
<li>Current directory path (<span class="tt">./tasks.json</span>).</li>
<li>Manual user input (prompted if none of the above are found).</li>
</ol>
<p>If the user provides a valid path manually, it is stored in <span class="tt">.devcli_config</span> for subsequent executions in the same environment.</p>
<p>The function allocates memory for the returned string using <span class="tt">strdup()</span>. In the current implementation, this memory is always freed later in the program during normal execution, so there is no risk of leaks unless this behavior is changed by modifying the code.</p>
<dl class="section return"><dt>Returns</dt><dd>char* A heap-allocated string containing the valid path to <span class="tt">tasks.json</span>. The current implementation ensures proper cleanup of this memory. Returns <span class="tt">NULL</span> if no valid path is found (including invalid user input).</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function uses an internal static buffer for temporary storage but duplicates the final path using <span class="tt">strdup()</span> before returning it.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>If <span class="tt">.devcli_config</span> contains an outdated path (e.g., user moved <span class="tt">tasks.json</span> manually), the function will fail on first attempt before falling back to manual input.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo</a></b></dt><dd>Implement validation for cached path before returning it to prevent edge-case errors.</dd></dl>
<p>Example usage: </p><div class="fragment"><div class="line"><span class="keywordtype">char</span> *jsonPath = <a class="code hl_function" href="#ga56a97bef12bcc6c8e9ffd8a388b0c9e5">resolveJSONPath</a>();</div>
<div class="line"><span class="keywordflow">if</span> (jsonPath) {</div>
<div class="line">    <a class="code hl_define" href="main_8c.html#ad285b8d43b6e90320e33e7438e3e171b">LOG</a>(<span class="stringliteral">&quot;Resolved tasks.json path: %s&quot;</span>, jsonPath);</div>
<div class="line">    <span class="comment">// In current implementation, memory will be freed later automatically.</span></div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">    <a class="code hl_define" href="main_8c.html#ad9c73bc78b8b2564e47a037b5a6ca226">LOG_ERROR</a>(<span class="stringliteral">&quot;Failed to locate tasks.json&quot;</span>);</div>
<div class="line">}</div>
<div class="ttc" id="agroup__init_html_ga56a97bef12bcc6c8e9ffd8a388b0c9e5"><div class="ttname"><a href="#ga56a97bef12bcc6c8e9ffd8a388b0c9e5">resolveJSONPath</a></div><div class="ttdeci">char * resolveJSONPath()</div><div class="ttdoc">Resolves the file path of the tasks.json configuration file.</div><div class="ttdef"><b>Definition</b> <a href="main_8c_source.html#l00221">main.c:221</a></div></div>
</div><!-- fragment --> 
<p class="definition">Definition at line <a class="el" href="main_8c_source.html#l00221">221</a> of file <a class="el" href="main_8c_source.html">main.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  221</span>                        {</div>
<div class="line"><span class="lineno">  222</span>    <span class="keyword">static</span> <span class="keywordtype">char</span> cachedPath[260]={0};</div>
<div class="line"><span class="lineno">  223</span>    FILE *f;</div>
<div class="line"><span class="lineno">  224</span>    f=fopen(<span class="stringliteral">&quot;.devcli_config&quot;</span>,<span class="stringliteral">&quot;r&quot;</span>);</div>
<div class="line"><span class="lineno">  225</span>    <span class="keywordflow">if</span>(f &amp;&amp; fgets(cachedPath,<span class="keyword">sizeof</span>(cachedPath),f)){</div>
<div class="line"><span class="lineno">  226</span>        fclose(f);</div>
<div class="line"><span class="lineno">  227</span>        <span class="keywordtype">size_t</span> len=strlen(cachedPath);</div>
<div class="line"><span class="lineno">  228</span>        <span class="keywordflow">if</span>(len&gt;0 &amp;&amp; cachedPath[len-1]==<span class="charliteral">&#39;\n&#39;</span>){</div>
<div class="line"><span class="lineno">  229</span>            cachedPath[len-1]=<span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  230</span>        }</div>
<div class="line"><span class="lineno">  231</span>        f=fopen(cachedPath,<span class="stringliteral">&quot;r&quot;</span>);</div>
<div class="line"><span class="lineno">  232</span>        <span class="keywordflow">if</span>(f){</div>
<div class="line"><span class="lineno">  233</span>            fclose(f);</div>
<div class="line"><span class="lineno">  234</span>            <a class="code hl_define" href="main_8c.html#ad285b8d43b6e90320e33e7438e3e171b">LOG</a>(<span class="stringliteral">&quot;Using cached path from config: %s&quot;</span>,cachedPath);</div>
<div class="line"><span class="lineno">  235</span>            <span class="keywordflow">return</span> strdup(cachedPath);</div>
<div class="line"><span class="lineno">  236</span>        }</div>
<div class="line"><span class="lineno">  237</span>    }</div>
<div class="line"><span class="lineno">  238</span>    f=fopen(<span class="stringliteral">&quot;../tasks.json&quot;</span>,<span class="stringliteral">&quot;r&quot;</span>);</div>
<div class="line"><span class="lineno">  239</span>    <span class="keywordflow">if</span> (f) {</div>
<div class="line"><span class="lineno">  240</span>        fclose(f);</div>
<div class="line"><span class="lineno">  241</span>        <a class="code hl_define" href="main_8c.html#ad285b8d43b6e90320e33e7438e3e171b">LOG</a>(<span class="stringliteral">&quot;Using \&quot;../tasks.json\&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">  242</span>        strcpy(cachedPath,<span class="stringliteral">&quot;../tasks.json&quot;</span>);</div>
<div class="line"><span class="lineno">  243</span>        <span class="keywordflow">return</span> strdup(cachedPath);</div>
<div class="line"><span class="lineno">  244</span>    }</div>
<div class="line"><span class="lineno">  245</span>    f=fopen(<span class="stringliteral">&quot;tasks.json&quot;</span>,<span class="stringliteral">&quot;r&quot;</span>);</div>
<div class="line"><span class="lineno">  246</span>    <span class="keywordflow">if</span> (f) {</div>
<div class="line"><span class="lineno">  247</span>        fclose(f);</div>
<div class="line"><span class="lineno">  248</span>        <a class="code hl_define" href="main_8c.html#ad285b8d43b6e90320e33e7438e3e171b">LOG</a>(<span class="stringliteral">&quot;Using \&quot;./tasks.json\&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">  249</span>        strcpy(cachedPath,<span class="stringliteral">&quot;./tasks.json&quot;</span>);</div>
<div class="line"><span class="lineno">  250</span>        <span class="keywordflow">return</span> strdup(cachedPath);</div>
<div class="line"><span class="lineno">  251</span>    }</div>
<div class="line"><span class="lineno">  252</span>    printf(<a class="code hl_define" href="main_8c.html#a8d23feea868a983c8c2b661e1e16972f">RED</a> <span class="stringliteral">&quot;Warning: tasks.json not found in expected locations.\n&quot;</span>);</div>
<div class="line"><span class="lineno">  253</span>    printf(<a class="code hl_define" href="main_8c.html#abf681265909adf3d3e8116c93c0ba179">YELLOW</a> <span class="stringliteral">&quot;You may have altered the cloned setup. Please enter path to tasks.json manually: &quot;</span> <a class="code hl_define" href="main_8c.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a>);</div>
<div class="line"><span class="lineno">  254</span>    fgets(cachedPath,<span class="keyword">sizeof</span>(cachedPath),stdin);</div>
<div class="line"><span class="lineno">  255</span>    <span class="keywordtype">size_t</span> len=strlen(cachedPath);</div>
<div class="line"><span class="lineno">  256</span>    <span class="keywordflow">if</span>(len&gt;0 &amp;&amp; cachedPath[len-1]==<span class="charliteral">&#39;\n&#39;</span>){</div>
<div class="line"><span class="lineno">  257</span>        cachedPath[len-1]=<span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  258</span>    }</div>
<div class="line"><span class="lineno">  259</span>    f=fopen(cachedPath,<span class="stringliteral">&quot;r&quot;</span>);</div>
<div class="line"><span class="lineno">  260</span>    <span class="keywordflow">if</span> (!f) {</div>
<div class="line"><span class="lineno">  261</span>        <a class="code hl_define" href="main_8c.html#ad9c73bc78b8b2564e47a037b5a6ca226">LOG_ERROR</a>(<span class="stringliteral">&quot;Provided path is also invalid.&quot;</span>);</div>
<div class="line"><span class="lineno">  262</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  263</span>    }</div>
<div class="line"><span class="lineno">  264</span>    <span class="keywordflow">else</span>{</div>
<div class="line"><span class="lineno">  265</span>        <a class="code hl_define" href="main_8c.html#ad285b8d43b6e90320e33e7438e3e171b">LOG</a>(<span class="stringliteral">&quot;Using manually entered path: %s&quot;</span>, cachedPath);</div>
<div class="line"><span class="lineno">  266</span>    }</div>
<div class="line"><span class="lineno">  267</span>    FILE *cfg=fopen(<span class="stringliteral">&quot;.devcli_config&quot;</span>,<span class="stringliteral">&quot;w&quot;</span>);</div>
<div class="line"><span class="lineno">  268</span>    <span class="keywordflow">if</span>(cfg){</div>
<div class="line"><span class="lineno">  269</span>        fprintf(cfg,<span class="stringliteral">&quot;%s\n&quot;</span>,cachedPath);</div>
<div class="line"><span class="lineno">  270</span>        fclose(cfg);</div>
<div class="line"><span class="lineno">  271</span>    }</div>
<div class="line"><span class="lineno">  272</span>    fclose(f);</div>
<div class="line"><span class="lineno">  273</span>    <span class="keywordflow">return</span> strdup(cachedPath);</div>
<div class="line"><span class="lineno">  274</span>}</div>
<div class="ttc" id="amain_8c_html_a8d23feea868a983c8c2b661e1e16972f"><div class="ttname"><a href="main_8c.html#a8d23feea868a983c8c2b661e1e16972f">RED</a></div><div class="ttdeci">#define RED</div><div class="ttdoc">ANSI escape code for red-colored text.</div><div class="ttdef"><b>Definition</b> <a href="main_8c_source.html#l00065">main.c:65</a></div></div>
<div class="ttc" id="amain_8c_html_ab702106cf3b3e96750b6845ded4e0299"><div class="ttname"><a href="main_8c.html#ab702106cf3b3e96750b6845ded4e0299">RESET</a></div><div class="ttdeci">#define RESET</div><div class="ttdoc">ANSI escape code to reset text formatting to default.</div><div class="ttdef"><b>Definition</b> <a href="main_8c_source.html#l00089">main.c:89</a></div></div>
<div class="ttc" id="amain_8c_html_abf681265909adf3d3e8116c93c0ba179"><div class="ttname"><a href="main_8c.html#abf681265909adf3d3e8116c93c0ba179">YELLOW</a></div><div class="ttdeci">#define YELLOW</div><div class="ttdoc">ANSI escape code for yellow-colored text.</div><div class="ttdef"><b>Definition</b> <a href="main_8c_source.html#l00077">main.c:77</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__init_ga56a97bef12bcc6c8e9ffd8a388b0c9e5_icgraph.png" border="0" usemap="#agroup__init_ga56a97bef12bcc6c8e9ffd8a388b0c9e5_icgraph" loading="lazy" alt=""/></div>
<map name="agroup__init_ga56a97bef12bcc6c8e9ffd8a388b0c9e5_icgraph" id="agroup__init_ga56a97bef12bcc6c8e9ffd8a388b0c9e5_icgraph">
<area shape="rect" title="Resolves the file path of the tasks.json configuration file." alt="" coords="103,5,229,32"/>
<area shape="rect" href="main_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Entry point for the DevCLI tool." alt="" coords="5,5,55,32"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
